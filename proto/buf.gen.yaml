version: v2
plugins:

  # Go
  - remote: buf.build/protocolbuffers/go:v1.36.6
    out: ../internal/api
    opt:
      - paths=source_relative
  - remote: buf.build/grpc/go:v1.5.1
    out: ../internal/api
    opt:
      - paths=source_relative

  # Js web
  - remote: buf.build/protocolbuffers/js:v3.21.4
    out: ../frontend/api
    opt:
      - import_style=commonjs
  - remote: buf.build/grpc/web:v1.5.0
    out: ../frontend/api
    opt:
      - mode=grpcwebtext
      - import_style=commonjs
